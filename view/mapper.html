<!DOCTYPE html>
<html id="mapperHTML">
  <head>
    <meta charset="UTF-8">
    <title>Create mapper object</title>
    <meta http-equiv="Content-Security-Policy" content="script-src * data: https://ssl.gstatic.com 'unsafe-inline' 'unsafe-eval';" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" />
    <link rel="stylesheet" href="./../assets/css/main.css" />
    <link rel="stylesheet" href="./../assets/css/dropdown.css" />
    <!--[if IE 8]><script src="./../assets/js/es5.js"></script><![endif]-->
    <link rel="stylesheet" href="./../assets/css/selectize.default.css" />
  </head>
  <body id='mapperBody'>
    <div id="scrollDiv">
      <div id="busyDiv"><img src="./../assets/busy.gif" /><label>Loading...</label></div>
      <fieldset id='fsWorkSpace'>
        <label id="wpLabel">Work space directory</label>
        <button id="btnWrkSpace">select workspace directory</button>&nbsp</label>&nbsp<label id="lblWrkSpace"></label>
      </fieldset>
      <fieldset id='fsFileSelect'>
        <label id="fsLabel">Select a csv file from: </label>
        <div class="showhide">
          <ol>
            <li>File name should be alphanumeric without space.</li>
            <li>The delimiter of the csv file should be comma (,).</li>
            <li>First raw should contains the headers.</li>
            <li>Each column name in the header raw should be alphanumeric without space.</li>
            <li>First column should be an index column which will contain the raw number. For instance, 1 for first row, 2 for second raw, ..., n for n-th raw.</li>
            <li>Remove all missing values or replace missing values with appropriate values. For instance, if the missing value should be a number then replace it with a special number.</li>
          </ol>
        </div>
        <button id="file-input" name="btnFileChoose">Choose a csv file</button>&nbsp<label id="lblFileName"></label>
      </fieldset>
      <!-- Filter selection -->
      <fieldset id='fsFilterParams'>
        <label id="fcLabel">Select a filter and its associated the number of windows and % overlap</label>
        <div id="filterContainer"></div>
        <span id='addFilter'><i class="fa fa-plus-circle" aria-hidden="true"></i>&nbsp;Add filter</span>
      </fieldset>
      <!-- cluster selection -->
      <fieldset id='fsClusterParams'>
        <label id="ccLabel">Select a clustering algorithm and its associated parameters</label>
        <div id="clusterParam">
          <div class="selCol">
            <select id="selCluster" class="clusterSel">
              <option value="-1">Select a clustering method</option>
              <option value="DBSCAN" selected>DBScan</option>
            </select>
          </div>
          <div class="winCol">
            <div class="dens">
              <label>Density</label>
              <input type="text" id="txtDensity" placeholder="4" value="4" onkeypress='return isFloatingNumberKey(event, this)' />
            </div>
          </div>
          <div class="ovCol">
            <div class="rads">
              <label>Radius</label>
              <input type="text" id="txtRadius" placeholder="1" value="1" onkeypress='return isFloatingNumberKey(event, this)' />
            </div>
          </div>
        </div>
        <div id="clusterContainer"></div>
      </fieldset>
      <fieldset id="advance">
        <legend><i class="fas fa-plus-circle"></i>&nbsp;Advance settings&nbsp;</legend>
        <div id="advContainer"></div>
      </fieldset>
      <button id="btnCrMpr">Create mapper</button>

      <fieldset style="display:none;">
        <legend>Test code</legend>
      <h1>Hello World!</h1>
      We are using node <script>document.write(process.versions.node)</script>,
      Chrome <script>document.write(process.versions.chrome)</script>,
      and Electron <script>document.write(process.versions.electron)</script>.

      <p>
          <label>Enter a number:</label><input type='text' value='0' name='txtVal' id='txtVal' /><button onclick="txtClick(); return false;">Compute</button>
          <br />
          <label>Squar root is:</label>&nbsp;<label id='lblsrt'><label/>
      </p>

      <script>
        var addon = require('bindings')('interface');
        function txtClick(){
          var val = parseInt(document.getElementById("txtVal").value);
          var srt = addon.invoke("SQRT", val);
          document.getElementById("lblsrt").innerHTML = srt;
        }
      </script>
    </fieldset>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>window.$ = window.jQuery = require('jquery');</script>
    <script src="./../assets/js/selectize.js"></script>
    <script src="./../assets/js/d3/mapper.js"></script>
  </body>
</html>
